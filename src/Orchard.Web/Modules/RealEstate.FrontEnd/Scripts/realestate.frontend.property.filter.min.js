function getContactInfo(){$.ajax({type:"post",dataType:"",url:"/RealEstate.UserControlPanel/User/GetProfile",data:{__RequestVerificationToken:antiForgeryToken},success:function(n){n.success==!0&&($("#ContactName").length>0&&$("#ContactName").val().length==0&&n._name.length>0&&$("#ContactName").val(n._name),$("#ContactPhone").length>0&&$("#ContactPhone").val().length==0&&n._number.length>0&&$("#ContactPhone").val((n._name.length>0?n._name+" ":"")+n._number),$("#ContactEmail").length>0&&$("#ContactEmail").val().length==0&&n._email.length>0&&$("#ContactEmail").val(n._email),$("#ContactAddress").length>0&&$("#ContactAddress").val().length==0&&n._address.length>0&&$("#ContactAddress").val(n._address))},error:function(){}})}function refreshform(n){$("#AdsGoodDeal").prop("checked",!1);$("#AdsVIP").prop("checked",!1);$("#IsOwner").prop("checked",!1);$("#IsAuction").prop("checked",!1);$("#search-all #AdsGoodDeal").prop("checked",!1);$("#search-all #AdsVIP").prop("checked",!1);$("#search-all #IsOwner").prop("checked",!1);$("#search-all #IsAuction").prop("checked",!1);$("#TypeGroupCssClass").val("").change();$("#DirectionIds").val("");$("#TypeIds").val("");$("#ApartmentFloorTh").val("").change();$("#AlleyTurnsRange").val("").change();$("#ProvinceId").val(0).combobox("refresh").change();$("#search-items [name$=ProvinceId]").val("");$("#search-all [name$=ProvinceId]").val("");$('input[type="text"]').val("");$("#DistrictIds").empty();$(".district .multiselect-container").empty();$(".district .multiselect").html('Chọn tất cả Quận / Huyện <b class="caret"><\/b>');$("#WardIds").empty();$(".ward .multiselect-container").empty();$(".ward .multiselect").html('Chọn tất cả Phường / Xã  <b class="caret"><\/b>');$("#StreetIds").empty();$(".street .multiselect-container").empty();$(".street .multiselect").html('Chọn tất cả các Đường <b class="caret"><\/b>');$(".apartment .multiselect-container").empty();$(".apartment .multiselect").html('Chọn tất cả dự án / chung cư <b class="caret"><\/b>');multiselect_deselectAll($("#search-items #DirectionIds"));multiselect_deselectAll($("#search-all #DirectionIds"));multiselect_deselectAll($("#search-all #TypeIds"));n.preventDefault()}function initFormFilter(){$("#TypeGroupCssClass").val()=="gp-all"||$("#TypeGroupCssClass").val()==undefined||$("#TypeGroupCssClass").val()==""?($("#search-items").css("display","none"),$("#search-all").css("display","block")):($("#search-items").css("display","block"),$("#search-all").css("display","none"),$("#OtherProjectName, #ApartmentFloorThRange, #MinBedrooms, #MinAreaUsable, #ApartmentIds").closest(".form-group").toggle($("#TypeGroupCssClass").val()=="gp-apartment"),$("#DirectionIds, #MinAreaTotal").closest(".form-group").toggle($(window).width()>minScreen&&$("#TypeGroupCssClass").val()!="gp-apartment"),$("#AlleyTurnsRange, #MinAreaTotalWidth, #MinAreaTotalLength, #StreetIds, #MinLength, #MinFloors, #MinWidth").closest(".form-group").toggle($("#TypeGroupCssClass").val()=="gp-house"||$("#TypeGroupCssClass").val()=="gp-land"),$("#MinFloors").closest(".form-group").toggle($("#TypeGroupCssClass").val()=="gp-house"),$("#TypeIds").closest(".form-group").toggle($("#TypeGroupCssClass").val()==""));$("#TypeGroupCssClass").val()=="gp-house"?(InitTabGBHouse(),$("#gp-house").closest("li").addClass("active"),$("#gp-house").closest("li").siblings().removeClass("active")):$("#TypeGroupCssClass").val()=="gp-apartment"?(InitTabGBApartment(),$("#gp-apartment").closest("li").addClass("active"),$("#gp-apartment").closest("li").siblings().removeClass("active")):$("#TypeGroupCssClass").val()=="gp-land"?(InitTabGBLand(),$("#gp-land").closest("li").addClass("active"),$("#gp-land").closest("li").siblings().removeClass("active")):$("#TypeGroupCssClass").val()==""&&(InitTabGBAll(),$("#gp-all").closest("li").addClass("active"),$("#gp-all").closest("li").siblings().removeClass("active"))}function multiselect_deselectAll(n){$("option",n).each(function(){n.multiselect("deselect",$(this).val())})}function InitTabGBHouse(){$("#TypeGroupCssClass").val("gp-house");$(window).width()>minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").show()}function InitTabGBApartment(){$("#TypeGroupCssClass").val("gp-apartment");$(window).width()>minScreen&&$("#WardIds, #DirectionIds").closest(".form-group").show();$("#ApartmentIds").closest(".form-group").show()}function InitTabGBLand(){$("#TypeGroupCssClass").val("gp-land");$(window).width()>minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").show()}function InitTabGBAll(){$("#TypeGroupCssClass").val("");$(window).width()>minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").show()}minScreen=767;$("#AdsTypeCssClass").attr("data-msg-required","Bạn phải chọn loại giao dịch");$("#TypeGroupId").attr("data-msg-required","Bạn phải chọn loại bất động sản");$("#TypeGroupCssClass").attr("data-msg-required","Bạn phải chọn nhóm bất động sản");$("#ExchangeTypeClass").attr("data-msg-required","Bạn phải chọn loại yêu cầu trao đổi");$("#TypeId").attr("data-msg-required","Bạn phải chọn loại bất động sản");$("#TypeConstructionId").attr("data-msg-required","Bạn phải chọn loại công trình xây dựng");$("#ProvinceId,[name$=ProvinceId]").attr("data-msg-required","Bạn phải chọn Tỉnh / Thành Phố");$("#DistrictId,[name$=DistrictId]").attr("data-msg-required","Bạn phải chọn Quận / Huyện");$("#WardId,[name$=WardId]").attr("data-msg-required","Bạn phải chọn Phường / Xã");$("#StreetId,[name$=StreetId]").attr("data-msg-required","Bạn phải chọn Đường / Phố");$("#AddressNumber").attr("data-msg-required","Bạn phải nhập Số nhà");$("#OtherProjectName").attr("data-msg-required","Bạn phải nhập Tên dự án / chung cư");$("#LocationCssClass").attr("data-msg-required","Bạn phải chọn vị trí BĐS");$("#DistanceToStreet,#AlleyTurns,#AlleyWidth1,#AlleyWidth2,#AlleyWidth3,#AlleyWidth4,#AlleyWidth5,#AlleyWidth6,#AlleyWidth7,#AlleyWidth8,#AlleyWidth9,#AreaUsable").attr("data-msg-required","Vui lòng nhập");$("#AreaTotalWidth").attr("data-msg-required","Bạn phải nhập chiều ngang khuôn viên đất.");$("#AreaTotalLength").attr("data-msg-required","Bạn phải nhập chiều dài khuôn viên đất.");$("#AreaLegalWidth").attr("data-msg-required","Bạn phải nhập chiều ngang phù hợp quy hoạch.");$("#AreaLegalLength").attr("data-msg-required","Bạn phải nhập chiều dài phù hợp quy hoạch.");$("#ContactPhone").attr("data-msg-required","Bạn phải nhập tên + điện thoại");$("#Name").attr("data-msg-required","Bạn phải nhập tên");$("#Phone").attr("data-msg-required","Bạn phải nhập điện thoại");$("#ContactName").attr("data-msg-required","Bạn phải nhập Họ tên");$("#ContactPhone").attr("data-msg-required","Bạn phải nhập Số điện thoại");$("#ContactEmail").attr("data-msg-required","Bạn phải nhập Địa chỉ Email");$("#search-all .district button").hover(function(){$("#search-all [name$=ProvinceId]").val()==""&&$("#search-all .district .er-active").toggle()});$("#search-all .ward button").hover(function(){$("#search-all #DistrictIds :selected").length<1&&$("#search-all .ward .er-active").toggle()});$("#search-all .street button").hover(function(){$("#search-all #DistrictIds :selected").length<1&&$("#search-all .street .er-active").toggle()});$("#search-items .district button").hover(function(){$("#search-items [name$=ProvinceId]").val()==""&&$("#search-items .district .er-active").toggle()});$("#search-items .ward button").hover(function(){$("#search-items #DistrictIds :selected").length<1&&$("#search-items .ward .er-active").toggle()});$("#search-items .street button").hover(function(){$("#search-items #DistrictIds :selected").length<1&&$("#search-items .street .er-active").toggle()});$("#search-items .apartment button").hover(function(){$("#search-items #DistrictIds :selected").length<1&&$("#search-items .apartment .er-active").toggle()});$.extend({getUrlVars:function(){for(var t=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t},getUrlVar:function(n){return $.getUrlVars()[n]}});$("#search-all #AdsTypeCssClass").change(function(){$(this).val()==="ad-leasing"||$(this).val()==="ad-renting"?$("#search-all #PaymentMethodCssClass").val("pm-vnd-m"):$("#search-all #PaymentMethodCssClass").val("pm-vnd-b")});$("#AdsTypeCssClass").change(function(){$(this).val()==="ad-leasing"||$(this).val()==="ad-renting"?$("#PaymentMethodCssClass").val("pm-vnd-m"):$("#PaymentMethodCssClass").val("pm-vnd-b")});$("#TypeGroupCssClass").change(function(){initFormFilter()});$.fn.autoNumeric&&($(".AutoFloat3").autoNumeric("init",{aPad:!1,vMax:"999"}),$(".AutoFloat4").autoNumeric("init",{aPad:!1,vMax:"9999"}),$(".AutoFloat7").autoNumeric("init",{aPad:!1,vMax:"9999999"}),$(".AutoInt2").autoNumeric("init",{aPad:!1,vMin:"0",vMax:"99"}),$(".AutoInt4").autoNumeric("init",{aPad:!1,vMin:"0",vMax:"9999"}),$('input[type="submit"], button[type="submit"]').click(function(){$("input.AutoFloat3, input.AutoFloat4, input.AutoFloat7, input.AutoInt2, input.AutoInt4").each(function(){$(this).val().length>0&&$(this).val($(this).autoNumeric("get"))})}));var typegroup;$(".btnSearchControl").click(function(){var n=$(this).closest("form");$("input[type=text], input[type=email], input[type=hidden], select, button[type=submit]",n).each(function(){this.disabled=$(this).val()==="false"||$(this).val()===""});$("input[type=checkbox]",n).each(function(){this.disabled=!$(this).is(":checked")});$("#PaymentMethodCssClass",n).prop("disabled",!($("#MinPriceProposed").val()>0||$("#MaxPriceProposed").val()>0));$("input[name^=autocomplete]").prop("disabled",!0);$("input[name^=autocompleteApartmentProvinceId]").prop("disabled",!0);n.submit()});$("#gp-house").on("click",function(n){$("#TypeGroupCssClass").val("gp-house");refreshform(n);InitTabGBHouse();initFormFilter()});$("#gp-apartment").on("click",function(n){$("#TypeGroupCssClass").val("gp-apartment");refreshform(n);InitTabGBApartment();initFormFilter()});$("#gp-land").on("click",function(n){$("#TypeGroupCssClass").val("gp-land");refreshform(n);InitTabGBLand();initFormFilter()});$("#gp-all").on("click",function(n){$("#TypeGroupCssClass").val("");refreshform(n);InitTabGBAll();initFormFilter()});$("#mySubscribe [type=submit]").click(function(){if($("#TypeGroupCssClass").val()===""||$("#ProvinceId").val()==="")return $("#alertRegister").show(),!1;$(this).closest("form").attr("action",$(this).attr("data-url"))});$("#mySubscribe").on("show",function(){getContactInfo();$("#mySubscribe").unbind("show")});$("#mySubscribe").on("hidden",function(){$("#alertRegister").hide()});$(function(){function n(){$("#ProvinceId",$("#AddressCorner").closest("form")).children("option:selected").text()=="Hà Nội"?$("#AddressCorner").closest(".form-group").show():$("#AddressCorner").closest(".form-group").hide()}var r,t,i;$(".linksaveproperty").on("click",function(){return $.ajax({type:"post",dataType:"JSON",traditional:!0,url:"/ajax/RealEstate.FrontEnd/PropertySearch/SaveProperty",data:{propertyid:$(this).attr("href").replace("#",""),__RequestVerificationToken:antiForgeryToken},success:function(n){n.success==!0?alert("Lưu tin thành công. Xem các tin đã lưu bạn vào Trang quản lý -> Quản lý tin rao -> BĐS lưu theo dõi"):n.flaguser==!0&&alert("Tin này đã được lưu.")},error:function(){}}),!1});typegroup=$("#tab-control-filter").val();n();$("#ProvinceId",$("#AddressCorner").closest("form")).change(function(){n()});$.fn.validate&&(r=$(".formvalidate").validate({errorClass:"text-error"}));$.fn.limiter&&$("#charsNote").length!=0&&(t=$("#charsNote"),$("#Note").limiter(500,t));$("#search-all #btnrefresh").click(function(n){var t=$("#TypeGroupCssClass").val();return refreshform(n),t=="gp-house"?$("#gp-house").click():t=="gp-apartment"?$("#gp-apartment").click():t=="gp-land"?$("#gp-land").click():$("#gp-all").click(),!1});$("#btnrefresh").click(function(n){var t=$("#TypeGroupCssClass").val();return refreshform(n),t=="gp-house"?$("#gp-house").click():t=="gp-apartment"?$("#gp-apartment").click():t=="gp-land"?$("#gp-land").click():$("#gp-all").click(),!1});$(".form-filter-header").is(":visible")&&(typegroup=="gp-house"?$(".form-filter-header #TypeGroupCssClass").val("gp-house"):typegroup=="gp-apartment"?$(".form-filter-header #TypeGroupCssClass").val("gp-apartment"):typegroup=="gp-land"?$(".form-filter-header #TypeGroupCssClass").val("gp-land"):$(".form-filter-header #TypeGroupCssClass").val(""));initFormFilter();$("#formFilter input,#formFilter select").change(function(){initFormFilter()});$.getUrlVar("AdsGoodDeal")=="true"&&$("#AdsGoodDeal").prop("checked",!0);$.getUrlVar("AdsVIP")=="true"&&$("#AdsVIP").prop("checked",!0);$.getUrlVar("IsOwner")=="true"&&$("#IsOwner").prop("checked",!0);$.getUrlVar("IsAuction")=="true"&&$("#IsAuction").prop("checked",!0);$("#ChkOtherProjectName").change(function(){var n=$("#ApartmentIds",$(this).closest("form"));$(this).is(":checked")?(n.siblings(".btn-group.form-control").hide(),n.empty(),n.multiselect("rebuild"),$("#OtherProjectName").show()):(n.siblings(".btn-group.form-control").show(),$("#OtherProjectName").hide())});$(window).width()<992&&($(".row").find(".two-column-first").removeClass("two-column-first"),$(".row").find(".two-column-last").removeClass("two-column-last"));$(window).width()<=767&&$("#frmHeaderFilter").remove();$.cookie("advance-search-expand-frontend")=="true"?($(".bt-expand-search").find(".ex-icon").addClass("icon_green_arrow_up"),$(".bt-expand-search").find(".ex-icon").addClass("icons-expand"),$(".advance-search").show(),$(window).width()<minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").show()):($(".advance-search").hide(),$(window).width()<minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").hide(),$(".bt-expand-search").find(".ex-icon").addClass("icon_green_arrow_down"),$(".bt-expand-search").find(".ex-icon").addClass("icons-collapse"));$(".bt-expand-search").click(function(){$(this).find(".ex-icon").toggleClass("icon_green_arrow_down");$(this).find(".ex-icon").toggleClass("icons-collapse");$(".advance-search").toggle();$(window).width()<minScreen&&$("#WardIds, #StreetIds, #DirectionIds").closest(".form-group").toggle();$.cookie("advance-search-expand-frontend",!($.cookie("advance-search-expand-frontend")=="true"))});i=setInterval(function(){$("#NewSelector .waiting-selling-content").each(function(){var n=$(this);$(n).find(".overlay-content-property").length>0&&$(n).load($(n).attr("data-url"),function(){fixPagerTop()})});setTimeout(function(){clearInterval(i)},1e3)},5e3)}),function(n){n.fn.extend({limiter:function(t,i){function r(n,i){var r=n.value.length;r>t&&(n.value=n.value.substr(0,t),r=t);i.html(t-r)}n(this).on("keyup focus",function(){r(this,i)});r(n(this)[0],i)}})}(jQuery);$("#ExchangeTypeClass").change(function(){var n=$(this);$("#Values").closest(".form-group").toggle(!($(n).val()==""||$(n).val()=="exchange-parity"));$(n).val()!=null&&$(n).val()=="exchange-more"&&$(".label-exchange").text("Số tiền bù thêm:");$(n).val()!=null&&$(n).val()=="exchange-lower"&&$(".label-exchange").text("Số tiền muốn nhận thêm:")}).change();
//# sourceMappingURL=realestate.frontend.property.filter.min.js.map
