@model RealEstate.FrontEnd.ViewModels.EstimateEditViewModel
@{
    Style.Require("BootstrapCombobox");
    Script.Require("BootstrapCombobox");
    Script.Require("FrontEnd.Property.Edit");
    Style.Require("jQueryUI_Orchard");
    Script.Require("jQueryUI_DatePicker");
    Style.Require("Rating");
    Script.Require("Rating");

}
<script type="text/javascript">
    var unitPriceArray = [@string.Join(",", Model.UnitArray)]
</script>
<span id="Id" class="hide">@Model.Id</span>

<!-- form-editor -->
<div class="form-editor">
    <!-- Giới thiệu -->
    <article class="content-item">
        <div class="alert alert-success last">
            Đây là phần mềm định giá trực tuyến. Bạn nhập các thông tin theo yêu cầu, phần mềm sẽ tự động phân tích từ những BĐS đang giao dịch trên thị trường để cho bạn kết quả định giá chính xác ngay tức thì.
        </div>
    </article>

    <!-- Địa chỉ -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Địa chỉ</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-msg text-ellipsis">
                    <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                </div>
            </div>
        </header>
        <article>
            <p class="text-center text-success">Hiện chỉ hỗ trợ dữ liệu để định giá tại một số quận trung tâm thuộc <strong>TP. HCM</strong></p>
            <div class="row">
                <div class="form-horizontal col-lg-8 col-md-8 col-sm-8 col-xs-12">
                    <div class="form-group collapse">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Tỉnh / Thành Phố:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.DropDownListFor(m => m.ProvinceId,
                    Model.Provinces.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.ProvinceId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), new { Class = "form-control combobox", placeholder = "-- Tỉnh / Thành Phố --", required = "required" })
                            @Html.ValidationMessageFor(m => m.ProvinceId, "*")
                            <label for="autocompleteProvinceId" class="text-error collapse"></label>
                        </div>
                        @Html.HiddenFor(r => r.AdsTypeCssClass)
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Quận / Huyện:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.DropDownListFor(m => m.DistrictId,
                    Model.Districts.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.DistrictId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Quận / Huyện --", new { Class = "form-control combobox", placeholder = "-- Quận / Huyện --", required = "required" })
                            @Html.ValidationMessageFor(m => m.DistrictId, "*")
                            <label for="autocompleteDistrictId" class="text-error collapse"></label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Phường / Xã:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.DropDownListFor(m => m.WardId,
                    Model.Wards.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.WardId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Phường / Xã --", new { Class = "form-control combobox", placeholder = "-- Phường / Xã --", required = "required" })
                            @Html.ValidationMessageFor(m => m.WardId, "*")
                            <label for="autocompleteWardId" class="text-error collapse"></label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Đường / Phố:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.DropDownListFor(m => m.StreetId,
                    Model.Streets.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.StreetId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Đường / Phố --", new { Class = "form-control combobox", placeholder = "-- Đường / Phố --", required = "required" })
                            @Html.ValidationMessageFor(m => m.StreetId, "*")
                            <label for="autocompleteStreetId" class="text-error collapse"></label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Số nhà:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.TextBoxFor(m => m.AddressNumber, new { maxlength = 250, Class = "form-control", placeholder = "-- Số nhà --", required = "required" })
                            @Html.ValidationMessageFor(m => m.AddressNumber, "*")
                        </div>
                    </div>
                    <div class="form-group" style="display:none;">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6">Ngõ / Ngách:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.TextBoxFor(m => m.AddressCorner, new { maxlength = 250, Class = "form-control", placeholder = "-- Ngõ / Ngách --" })
                            @Html.ValidationMessageFor(m => m.AddressCorner, "*")
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 hidden-xs">
                    <div class="text-success"><strong class="text-green">Lưu ý:</strong> Nhập chính xác <span class="text-blue">PHƯỜNG, SỐ NHÀ</span> phần mềm mới định giá chính xác.</div>
                </div>
                <div class="clearfix"></div>
            </div>
        </article>
    </article>

    <!-- Vị trí -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Vị trí</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-msg text-ellipsis">
                    <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                </div>
            </div>
        </header>
        <article>
            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Hướng của BĐS:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.DropDownListFor(m => m.DirectionId,
                    Model.Directions.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.DirectionId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Vui lòng chọn --", new { Class = "form-control" })
                                @Html.ValidationMessageFor(m => m.DirectionId, "*")
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Giấy tờ pháp lý:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.DropDownListFor(m => m.LegalStatusId,
                    Model.LegalStatus.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.LegalStatusId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Vui lòng chọn --", new { Class = "form-control" })
                                @Html.ValidationMessageFor(m => m.LegalStatusId, "*")
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Vị trí BĐS:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.DropDownListFor(m => m.LocationCssClass,
                    Model.Locations.Select(s => new SelectListItem
                    {
                        Selected = s.CssClass == Model.LocationCssClass,
                        Text = s.Name,
                        Value = s.CssClass
                    }), "-- Vui lòng chọn --", new { Class = "form-control", required = "required" })
                                @Html.ValidationMessageFor(m => m.LocationCssClass, "*")
                            </div>
                        </div>
                        @*<div class="form-group collapse" id="divStreetWidth">
                                <label class="control-label col-lg-9 col-md-9 col-sm-9">Độ rộng đường trước nhà:</label>
                                <div class="col-lg-3 col-md-3 col-sm-3">
                                    <div class="input-group">
                                        @Html.TextBoxFor(m => m.StreetWidth, new { Class = "form-control AutoFloat3" })
                                        <span class="input-group-addon">m</span>
                                    </div>
                                    @Html.ValidationMessageFor(m => m.StreetWidth, "*")
                                </div>
                            </div>*@
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 hidden-xs">
                    <div class="collapse" id="divAlleyWidth11">
                        <div class="text-success"><strong class="text-green">Lưu ý:</strong> Thay đổi số lần rẽ, khoảng cách, hoặc độ rộng hẻm kết quả định giá sẽ thay đổi rất nhiều.</div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="form-horizontal">
                <div id="divDistanceToStreet">
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Khoảng cách từ BĐS ra MT đường:</label>
                        <div class="col-lg-2 col-md-2 col-sm-2">
                            <div class="input-group">
                                @Html.TextBoxFor(m => m.DistanceToStreet, new { Class = "form-control AutoFloat4", required = "required" })
                                <span class="input-group-addon">m</span>
                            </div>
                            @Html.ValidationMessageFor(m => m.DistanceToStreet, "*")
                            <label for="DistanceToStreet" class="text-error collapse">Vui lòng nhập</label>
                        </div>
                    </div>
                </div>
                <div id="divAlleyTurns">
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Số lần rẽ (quẹo) từ MT đường vào đến BĐS: <i class="icon_silk_help" data-html="true" title="<img alt='' src='/Themes/TheRealEstate/Styles/images/map-help.jpg' />"></i></label>
                        <div class="col-lg-2 col-md-2 col-sm-2">
                            @Html.TextBoxFor(m => m.AlleyTurns, new { Class = "form-control AutoInt2", required = "required" })
                            @Html.ValidationMessageFor(m => m.AlleyTurns, "*")
                            <label for="AlleyTurns" class="text-error collapse">Vui lòng nhập</label>
                        </div>
                    </div>
                </div>
                <div id="divAlleyWidth10">
                    <div class="form-group">
                        <label class="control-label text-info col-lg-8 col-md-8 col-sm-8 col-xs-12"><strong>Nhập độ rộng các hẻm từ Mặt tiền(MT) đường vào đến BĐS:</strong></label>
                    </div>
                </div>

                <!-- Lần rẽ thứ nhất (Hẻm đầu tiên) rộng: -->
                <div class="form-group" id="divAlleyWidth1">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ nhất (Hẻm đầu tiên) rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth1, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth1, "*")
                        <label for="AlleyWidth1" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
                <div class="form-group" id="divAlleyWidth2">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ 2 rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth2, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth2, "*")
                        <label for="AlleyWidth2" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
                <div class="form-group" id="divAlleyWidth3">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ 3 rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth3, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth3, "*")
                        <label for="AlleyWidth3" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
                <div class="form-group" id="divAlleyWidth4">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ 4 rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth4, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth4, "*")
                        <label for="AlleyWidth4" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
                <div class="form-group" id="divAlleyWidth5">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ 5 rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth5, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth5, "*")
                        <label for="AlleyWidth5" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
                <div class="form-group" id="divAlleyWidth6">
                    <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Lần rẽ thứ 6 rộng:</label>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.AlleyWidth6, new { Class = "form-control AutoFloat3", required = "required" })
                            <span class="input-group-addon">m</span>
                        </div>
                        @Html.ValidationMessageFor(m => m.AlleyWidth6, "*")
                        <label for="AlleyWidth6" class="text-error collapse">Vui lòng nhập</label>
                    </div>
                </div>
            </div>
        </article>
    </article>

    <!-- Thông tin đất -->
    <article class="content-item land-info">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Thông tin đất</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-msg text-ellipsis">
                    <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                </div>
            </div>
        </header>
        <article>
            <div class="row">
                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-12">
                    <div class="form-horizontal ">

                        <div class="form-group">
                            <label class="control-label col-lg-7 col-md-7 col-sm-7"><span class="text-error">*</span> Chiều ngang (hợp quy hoạch):</label>
                            <div class="form-inline col-lg-5 col-md-5 col-sm-5">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaLegalWidth, new { Class = "form-control AutoFloat7", placeholder = "ngang", required = "required" })
                                    <span class="input-group-addon">m</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-7 col-md-7 col-sm-7"><span class="text-error">*</span> Chiều dài (hợp quy hoạch):</label>
                            <div class="form-inline col-lg-5 col-md-5 col-sm-5">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaLegalLength, new { Class = "form-control AutoFloat7", placeholder = "dài", required = "required" })
                                    <span class="input-group-addon">m</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-7 col-md-7 col-sm-7"><span class="text-error">*</span>  Diện tích (hợp quy hoạch):</label>
                            <div class="form-inline col-lg-5 col-md-5 col-sm-5">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaLegal, new { Class = "form-control AutoFloat7", placeholder = "Tổng DT" })
                                    <span class="input-group-addon">m<sup>2</sup></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                @Html.ValidationMessageFor(m => m.AreaLegal, "*")
                                @Html.ValidationMessageFor(m => m.AreaLegalWidth, "*")
                                @Html.ValidationMessageFor(m => m.AreaLegalLength, "*")
                                @Html.ValidationMessageFor(m => m.AreaLegalBackWidth, "*")
                            </div>
                        </div>

                        <div>
                            <div class="col-lg-3 col-md-3 col-sm-3"></div>
                            <div class="col-lg-9 col-md-9 col-sm-9">
                                <div><label for="AreaTotalWidth" class="text-error collapse"></label></div>
                                <div><label for="AreaTotalLength" class="text-error collapse"></label></div>
                                <div><label for="AreaLegalWidth" class="text-error collapse"></label></div>
                                <div><label for="AreaLegalLength" class="text-error collapse"></label></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-7 col-md-7 col-sm-7 align-center"><span class="text-success">Diện tích đất vi phạm lộ giới: </span> <i class="icon_silk_help" title="Là phần đất vi phạm lộ giới, quy hoạch nhưng do có trước quy hoạch, lộ giới nên được công nhận trong chủ quyền. Khi giải tỏa được đền bù theo giá thị trường. Nhỏ hơn hoặc bằng DT khuôn viên trừ DT phù hợp quy hoạch."></i></label>
                            <div class="form-inline col-lg-5 col-md-5 col-sm-5 text-center">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaIlegal, new { Class = "form-control AutoFloat7" })
                                    <span class="input-group-addon">m<sup>2</sup></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-3 col-md-3 col-sm-3 no-padding-left">
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 no-padding-left">
                                @Html.ValidationMessageFor(m => m.AreaIlegal, "*")
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-12">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-lg-5 col-md-5 col-sm-5 text-left no-padding-left-right"><span class="text-error">*</span> Ngang mặt hậu (hợp quy hoạch):</label>
                            <div class="form-inline col-lg-6 col-md-6 col-sm-6 no-padding-left">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaLegalBackWidth, new { Class = "form-control AutoFloat7", placeholder = "mặt hậu" })
                                    <span class="input-group-addon">m<i class="icon_silk_help" data-html="true" title="Mặt hậu là cạnh đáy của lô đất</br> dùng để xác định tóp hậu hay</br> nở hậu."></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @*<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="text-center text-success">Chương trình sẽ tính diện tích đất <strong>không được công nhận</strong> dựa trên thông số trên</div>
                    </div>*@
            </div>
        </article>
    </article>

    <!-- Loại BĐS -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Loại hình bất động sản</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-msg text-ellipsis">
                    <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                </div>
            </div>
        </header>
        <article>
            <div class="row">
                <div class="form-horizontal col-lg-8 col-md-8 col-sm-8 col-xs-12">
                    <div class="form-group">
                        <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span> Loại BĐS:</label>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @Html.DropDownListFor(m => m.TypeId,
                            Model.Types.Select(s => new SelectListItem
                            {
                                Selected = s.Id == Model.TypeId,
                                Text = s.Name,
                                Value = s.Id.ToString()
                            }), "-- Vui lòng chọn --", new { Class = "form-control", required = "required" })
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 hidden-xs">
                </div>
                <div class="clearfix"></div>
            </div>
        </article>
    </article>
    <!-- Thông tin xây dựng -->
    <article class="content-item collapse constructionInfo">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Thông tin xây dựng</h2>
                    <div class="header-title-right"></div>
                </div>
            </div>
        </header>
        <article>
            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-8">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Diện tích <strong class="text-blue">đất</strong> xây dựng: <i class="icon_silk_help" title="Là phần đất có công trình xây dựng trên đất. Diện tích này phải nhỏ hơn hoặc bằng diện tích đất khuôn viên."></i></label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaConstruction, new { Class = "form-control AutoFloat7", placeholder = "DT đất xây dựng" })
                                    <span class="input-group-addon">m<sup>2</sup></span>
                                </div>
                            </div>
                        </div>

                        <!-- FloorsCount -->
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">@T("Số lầu:")</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <select id="@Html.NameOf(m => m.FloorsCount)" name="@Html.NameOf(m => m.FloorsCount)" class="form-control">
                                    @Html.SelectOption(Model.FloorsCount, 0, T("Trệt").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 1, T("1 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 2, T("2 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 3, T("3 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 4, T("4 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 5, T("5 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 6, T("6 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 7, T("7 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 8, T("8 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 9, T("9 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, 10, T("10 lầu").ToString())
                                    @Html.SelectOption(Model.FloorsCount, -1, T("> 10 lầu").ToString())
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">@T("Số lầu chính xác:")</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.TextBoxFor(m => m.Floors, new { Class = "form-control AutoFloat3", placeholder = "Số lầu" })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Diện tích sàn xây dựng: <i class="icon_silk_help" title="Là tổng diện tích các sàn xây dựng kể cả ban công, tầng hầm, sân thượng..."></i></label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.AreaConstructionFloor, new { Class = "form-control AutoFloat7", placeholder = "Diện tích sàn xây dựng" })
                                    <span class="input-group-addon">m<sup>2</sup></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Số phòng ngủ:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.TextBoxFor(m => m.Bedrooms, new { Class = "form-control AutoInt4", placeholder = "Số phòng ngủ" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Số phòng vệ sinh:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.TextBoxFor(m => m.Bathrooms, new { Class = "form-control AutoInt4", placeholder = "Số phòng vệ sinh" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">
                                Chất lượng nhà còn lại: <i class="icon_silk_help guide-help pointer" data-help="remainingvalue" title="Click vào để xem hình hướng dẫn"></i>
                            </label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="input-group">
                                    @Html.TextBoxFor(m => m.RemainingValue, new { Class = "form-control AutoFloat3", placeholder = "Chất lượng nhà còn lại" })
                                    <span class="input-group-addon">%</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6"><span class="text-error">*</span>Loại công trình xây dựng:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.DropDownListFor(m => m.TypeConstructionId,
                    Model.TypeConstructions.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.TypeConstructionId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Vui lòng chọn --", new { Class = "form-control", placeholder = "", required = "required" })
                                @Html.ValidationMessageFor(m => m.TypeConstructionId, "*")
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-6 col-md-6 col-sm-6">Chọn mức độ đầu tư xây dựng:</label>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                @Html.DropDownListFor(m => m.InteriorId,
                    Model.Interiors.Select(s => new SelectListItem
                    {
                        Selected = s.Id == Model.InteriorId,
                        Text = s.Name,
                        Value = s.Id.ToString()
                    }), "-- Vui lòng chọn --", new { Class = "form-control", placeholder = "" })
                                @Html.ValidationMessageFor(m => m.InteriorId, "*")
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 form-inline">
                    <ul class="list-unstyled last">
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveBasement) Có tầng hầm</label></li>
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveMezzanine) Có lửng</label></li>
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveTerrace) Có sân thượng</label></li>
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveGarage) Có gara ô tô</label></li>
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveElevator) Có thang máy</label></li>
                        <li><label class="checkbox">@Html.CheckBoxFor(m => m.HaveSwimmingPool) Có hồ bơi</label></li>
                    </ul>
                </div>
                <div class="clearfix"></div>
            </div>
        </article>
    </article>

    <!-- Đặc điểm tốt - xấu -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title pull-right">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Đặc điểm xấu</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Đặc điểm tốt</h2>
                    <div class="header-title-right"></div>
                </div>
            </div>
        </header>
        <article>
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <div class="form-inline">
                        @{ var rIndex = 0; }
                        <ul class="list-unstyled last">
                            @foreach (var r in Model.Advantages)
                            {
                                <li>
                                    <label class="checkbox" for="@Html.FieldNameFor(m => m.Advantages[rIndex].IsChecked)">
                                        <input type="hidden" value="@r.Advantage.Id" name="@Html.FieldNameFor(m => m.Advantages[rIndex].Advantage.Id)" />
                                        <input type="checkbox" value="true" name="@Html.FieldNameFor(m => m.Advantages[rIndex].IsChecked)" id="@Html.FieldNameFor(m => m.Advantages[rIndex].IsChecked)"
                                               @if (r.IsChecked) { <text> checked="checked" </text>      } />
                                        @r.Advantage.Name
                                    </label>
                                </li>
rIndex++;
                            }
                        </ul>
                    </div>
                    <br />
                    <div class="form-horizontal">
                        <div class="form-group">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="other-advance-border">
                                    <div class="form-group">
                                        <label class="col-lg-12">Đặc điểm tốt khác làm tăng giá trị của BĐS:</label>
                                        <div class="col-lg-12">@Html.TextBoxFor(m => m.OtherAdvantagesDesc, new { maxlength = 250, Class = "form-control", placeholder = "Nêu Đặc điểm tốt khác làm tăng thêm giá trị của BĐS" })</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-lg-7 col-md-7">Nhập số phần trăm tăng thêm:</label>
                                        <div class="col-lg-5 col-md-5">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.OtherAdvantages, new { Class = "form-control AutoFloat3", placeholder = "" })
                                                <span class="input-group-addon">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <div class="form-inline">
                        @{ var disIndex = 0; }
                        <ul class="list-unstyled last">
                            @foreach (var r in Model.DisAdvantages)
                            {
                                <li>
                                    <label class="checkbox" for="@Html.FieldNameFor(m => m.DisAdvantages[disIndex].IsChecked)">
                                        <input type="hidden" value="@r.Advantage.Id" name="@Html.FieldNameFor(m => m.DisAdvantages[disIndex].Advantage.Id)" />
                                        <input type="checkbox" value="true" name="@Html.FieldNameFor(m => m.DisAdvantages[disIndex].IsChecked)" id="@Html.FieldNameFor(m => m.DisAdvantages[disIndex].IsChecked)"
                                               @if (r.IsChecked) { <text> checked="checked" </text>      } />
                                        @r.Advantage.Name
                                    </label>
                                </li>
disIndex++;
                            }
                        </ul>
                    </div>
                    <br />
                    <div class="form-horizontal">
                        <div class="form-group">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="other-advance-border">
                                    <div class="form-group">
                                        <label class="col-lg-12">Đặc điểm xấu khác làm giảm giá trị BĐS:</label>
                                        <div class="col-lg-12">@Html.TextBoxFor(m => m.OtherDisAdvantagesDesc, new { maxlength = 250, Class = "form-control", placeholder = "Nêu Đặc điểm xấu khác làm giảm đi giá trị của BĐS" })</div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-lg-7 col-md-7">Nhập số phần trăm giảm đi:</label>
                                        <div class="col-lg-5 col-md-5">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.OtherDisAdvantages, new { Class = "form-control AutoFloat3", placeholder = "" })
                                                <span class="input-group-addon">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="vr"></div>
        </article>
    </article>

    <!-- Thông tin liên hệ -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Thông tin liên hệ</h2>
                    <div class="header-title-right"></div>
                </div>
                <div class="header-msg text-ellipsis">
                    <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                </div>
            </div>
        </header>
        <article>
            <div class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-lg-4 col-md-4 col-sm-4"><span class="text-error">*</span> Nhập tên + điện thoại:</label>
                    <div class="col-lg-8 col-md-8 col-sm-8">
                        @Html.TextBoxFor(m => m.ContactPhone, new { maxlength = 250, Class = "form-control", placeholder = "Nhập tên + điện thoại liên hệ", required = "required" })
                        @Html.ValidationMessageFor(m => m.ContactPhone, "*")
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-lg-4 col-md-4 col-sm-4">Nhập Email liên hệ:</label>
                    <div class="col-lg-8 col-md-8 col-sm-8">
                        @Html.TextBoxFor(m => m.ContactEmail, new { maxlength = 250, Class = "form-control", placeholder = "Nhập Email liên hệ" })
                    </div>
                </div>
                @*<div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Địa chỉ / ghi chú liên hệ:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            @Html.TextBoxFor(m => m.ContactAddress, new { maxlength = 250, Class = "form-control", placeholder = "Địa chỉ / ghi chú liên hệ" })
                        </div>
                    </div>*@
                <div class="text-center text-success">Bạn vui lòng nhập đủ Email và ĐT để chúng tôi giúp bạn định giá chính xác hơn. Trong trường hợp BĐS chưa định giá được tại thời điểm này, chúng tôi sẽ gửi kết quả cho bạn qua email.</div>
            </div>
        </article>
    </article>

    <button value="submit.Estimate" name="submit.Estimate" type="submit" class="btn btn-warning">Định giá</button>
    <div class="form-group"></div>

    <!-- Thông tin Định giá -->
    <article class="content-item" id="block-estimate">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Thông tin Định giá</h2>
                    <div class="header-title-right"></div>
                </div>
            </div>
        </header>
        <article>
            <div class="form-horizontal">
                @if (Model.PriceEstimatedInVND > 0)
                {
                    // Định giá thành công
                    <div class="justify">
                        @{var priceEstimated = Math.Round((double)Model.PriceEstimatedInVND * 1000, 0) * 1000000;}
                        <h4 class="text-error text-center">Định giá BĐS: @String.Format("{0:#,0 đ}", priceEstimated) / Tổng diện tích</h4>
                        <h4 class="text-error text-center" id="PriceEstimatedInWords"></h4>
                        @using (Script.Foot())
                        {
                            <script type="text/javascript">
                                $(function () {
                                    $('#PriceEstimatedInWords').html('(' + DocTienBangChu(@priceEstimated) + ' đồng)')
                                });
                            </script>
                        }
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Nhận xét kết quả định giá:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            <div class="form-inline">
                                <div class="form-group col-lg-6 col-md-6 col-sm-6">
                                    <select id="slcRating" class="form-control">
                                        <option value="0">-- Chọn nhận xét --</option>
                                        <option value="1">Không chính xác</option>
                                        <option value="2">Không có ý kiến</option>
                                        <option value="3">Chấp nhận được</option>
                                        <option value="4">Chính xác</option>
                                        <option value="5">Rất chính xác</option>
                                    </select>
                                </div>
                                <div class="form-group col-lg-1 col-md-1 col-sm-1">
                                </div>
                                <div class="form-group col-lg-6 col-md-6 col-sm-6 form-control-static">
                                    <input class="hover-star" type="radio" name="hover-star-rating" value="1" title="Không chính xác" />
                                    <input class="hover-star" type="radio" name="hover-star-rating" value="2" title="Không có ý kiến" />
                                    <input class="hover-star" type="radio" name="hover-star-rating" value="3" title="Chấp nhận được" />
                                    <input class="hover-star" type="radio" name="hover-star-rating" value="4" title="Chính xác" />
                                    <input class="hover-star" type="radio" name="hover-star-rating" value="5" title="Rất chính xác" />
                                    <span id="hover-text"></span>
                                </div>
                            </div>
                            @Html.HiddenFor(m => m.PriceEstimatedRatingPoint)
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Góp ý cho kết quả định giá:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            @Html.TextAreaFor(m => m.PriceEstimatedComment, new { maxlength = 500, Class = "form-control", placeholder = "Ghi nhận xét của bạn vào đây" })
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-8 col-lg-offset-4 col-md-8 col-md-offset-4 col-sm-8 col-sm-offset-4">
                            <button class="btn btn-warning" id="submit_Rating" name="submit.Rating">Gửi nhận xét</button>
                        </div>
                    </div>
                }
                else if (Model.IsValidForEstimate)
                {
                    // Chưa Định giá được
                    <div class="form-group">
                        <h4 class="text-error text-center">@T("Chúng tôi chưa đủ dữ liệu để định giá BĐS: <span class='text-error'>{0}</span> trong lúc này!", Model.DisplayForAddress)</h4>
                    </div>
                }
                else
                {
                    // Thiếu thông tin để Định giá
                    <div class="form-group">
                        <h4 class="text-error text-center"><span>BĐS thiếu các thông tin bắt buộc để định giá!</span></h4>
                    </div>
                }
                <div class="text-center text-success">Kết quả định giá dùng cho mục đích tham khảo giá bán trên thị trường. Khách hàng cần chứng thư định giá vui lòng liên hệ bộ phận chăm sóc khách hàng ĐT:  <strong>0928.788.188</strong> - <strong>0919.22.55.99</strong></div>
            </div>
        </article>
    </article>

    <!-- Lỗi thường gặp khi định giá -->
    <article class="content-item">
        <header>
            <div class="header-wrapper">
                <div class="header-title">
                    <div class="header-title-left">
                        <div class="header-title-triangle"></div>
                    </div>
                    <h2 class="header-title-text">Lỗi thường gặp khi định giá</h2>
                    <div class="header-title-right"></div>
                </div>
            </div>
        </header>
        <article>
            <p><strong>Trường hợp 1:</strong> Kết quả định giá BĐS của bạn <strong class="text-error">thấp hơn nhiều</strong> so với bạn nghĩ thì có thể do một trong các lỗi sau:</p>
            <ul>
                <li>Bạn nhập thông tin hẻm chưa chính xác: số lần rẽ, độ rộng, khoảng cách ra đường chính. Những thông tin này làm tăng hoặc giảm giá trị BĐS rất nhiều. </li>
                <li>Bạn nhập “mặt hậu” của BĐS không đúng. Nếu nhà đất của bạn vuông vức thì bạn nên nhập “mặt hậu” = ”mặt tiền”(Một số trường hợp nhập sai là “mặt hậu” = 0). Nếu nhà của bạn nở hậu 1m so với mặt tiền thì bạn nên nhập “mặt hậu” = ”mặt tiền” + 1 . Ví dụ MT = 4 thì bạn nhập “Mặt hậu” = 5. (Một số người nhập “mặt hậu” = 1 là sai).</li>
                <li>Nhà của bạn có những đặc điểm tốt khác mà bạn không chọn trong bảng “Đặc điểm tốt/xấu”. Mục này giúp tăng giá trị BĐS của bạn.</li>
            </ul>
            <p><strong>Trường hợp 2:</strong> Bạn thấy kết quả định giá BĐS của bạn <strong class="text-error">cao hơn nhiều</strong> so với bạn nghĩ thì có thể do một trong các lỗi sau:</p>
            <ul>
                <li>Bạn nhập “số lần rẽ” của “hẻm” không chính xác (ví dụ 3 lần rẽ mà chỉ nhập có 2 làn rẽ).</li>
                <li>Bạn nhập độ rộng của hẻm lớn hơn thực tế hoặc khoảng cách từ nhà bạn ra MT đường chính ngắn hơn thực tế cũng làm tăng giá trị định giá của BĐS lên rất nhiều.</li>
                <li>Bạn nhập “diện tích đất xây dựng” sai: Có nhiều người hay nhập “diện tích sàn xây dựng” vào chổ “DT đất xây dựng”, từ đó làm cho giá trị xay dựng tăng lên rất nhiều lần.</li>
                <li>Bạn nhập “mức độ đầu tư xây dựng” không chính xác. Chúng tôi có 5 mức và sự khác biệt giá xây dựng của mỗi mức rất lớn dẫn đến giá trị xd tăng lên rất nhiều.</li>
            </ul>
        </article>
    </article>

    <article class="content-item">
        <div class="alert alert-success last alert-dangtin">
            @if (WorkContext.CurrentUser != null)
            {
                <div class="moreinfo">Để đăng tin rao BĐS này bạn vui lòng <a href="#" class="text-underline text-bold" rel="nofollow">chọn vào đây</a></div>
            }
            else
            {
                <div>Để đăng tin rao BĐS này bạn vui lòng <a href="@Url.Action("AccessDenied", "Account", new { area = "Orchard.Users", ReturnUrl = HttpContext.Current.Request.Url })" class="text-underline text-bold" rel="nofollow">đăng nhập</a></div>
            }
        </div>
    </article>

    <div id="ad-selling" class="collapse">

        <!-- Nội dung tin rao -->
        <article class="content-item">
            <header>
                <div class="header-wrapper">
                    <div class="header-title">
                        <div class="header-title-left">
                            <div class="header-title-triangle"></div>
                        </div>
                        <h2 class="header-title-text">Nội dung tin rao</h2>
                        <div class="header-title-right"></div>
                    </div>
                </div>
            </header>
            <article>
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Tiêu đề:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            @Html.TextBoxFor(m => m.Title, new { Class = "form-control", placeholder = "Tiêu đề chỉ được nhập tối đa 120 ký tự", maxlength = "250" })
                            <p class="help-block">Tối đa <strong>120</strong> ký tự. Đang còn <span id="charsTitle">120</span> ký tự.</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Nội dung:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            @Html.TextAreaFor(m => m.Content, new { Class = "form-control", placeholder = "Thông tin khác chỉ được tối đa 500 ký tự", maxlength = "1000" })
                            <p class="help-block">Tối đa <strong>1000</strong> ký tự. Đang còn <span id="charsContent">1000</span> ký tự.</p>
                        </div>
                    </div>
                </div>
            </article>
        </article>

        <!-- Giá rao -->
        <article class="content-item more-price">
            <header>
                <div class="header-wrapper">
                    <div class="header-title">
                        <div class="header-title-left">
                            <div class="header-title-triangle"></div>
                        </div>
                        <h2 class="header-title-text">Giá rao</h2>
                        <div class="header-title-right"></div>
                    </div>
                    <div class="header-msg text-ellipsis">
                        <span class="text-success">Các mục có dấu (<span class="text-error">*</span>) là bắt buộc nhập</span>
                    </div>
                </div>
            </header>
            <article>
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="control-label col-lg-4 col-md-4 col-sm-4">Giá rao:</label>
                        <div class="col-lg-8 col-md-8 col-sm-8">
                            <div class="form-group col-lg-4 col-md-4 col-sm-4">
                                @Html.TextBoxFor(m => m.PriceProposed, new { Class = "form-control AutoFloat7", placeholder = "Giá rao" })
                            </div>
                            <div class="form-group col-lg-1 col-md-1 col-sm-1 hidden-xs"></div>
                            <div class="form-group col-lg-4 col-md-4 col-sm-4 col-xs-6">
                                @Html.DropDownListFor(m => m.PaymentMethodId,
                        Model.PaymentMethods.Select(s => new SelectListItem
                        {
                            Selected = s.Id == Model.PaymentMethodId,
                            Text = s.Name,
                            Value = s.Id.ToString()
                        }), new { Class = "form-control", placeholder = "" })
                            </div>
                            <div class="form-group col-lg-1 col-md-1 col-sm-1 col-xs-1 form-control-static text-center">/</div>
                            <div class="form-group col-lg-4 col-md-4 col-sm-4 col-xs-6">
                                @Html.DropDownListFor(m => m.PaymentUnitId,
                        Model.PaymentUnits.Select(s => new SelectListItem
                        {
                            Selected = s.Id == Model.PaymentUnitId,
                            Text = s.Name,
                            Value = s.Id.ToString()
                        }), new { Class = "form-control", placeholder = "" })
                            </div>
                            <div class="clearfix"></div>
                            <strong id="PriceInWords" class="text-error"></strong>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-8 col-lg-offset-4 col-md-8 col-md-offset-4 col-sm-8 col-sm-offset-4 form-inline">
                            @*<label class="checkbox-inline"> @Html.CheckBoxFor(m => m.IsOwner) Tin chính chủ &nbsp;&nbsp;</label>*@
                            <label class="checkbox-inline"> @Html.CheckBoxFor(m => m.NoBroker) Miễn trung gian &nbsp;&nbsp;</label>
                            @*<label class="checkbox-inline"> @Html.CheckBoxFor(m => m.IsAuction) Nhà phát mãi &nbsp;&nbsp;</label>*@
                        </div>
                    </div>
                </div>
            </article>
        </article>

        <!-- Hình ảnh BĐS -->
        @Html.Partial("FrontEndUploadImages")

        <!-- Đăng quảng cáo -->
        <article class="content-item">
            <header>
                <div class="header-wrapper">
                    <div class="header-title">
                        <div class="header-title-left">
                            <div class="header-title-triangle"></div>
                        </div>
                        <h2 class="header-title-text">Đăng quảng cáo</h2>
                        <div class="header-title-right"></div>
                    </div>
                    <div class="header-msg text-ellipsis">
                    </div>
                </div>
            </header>
            <article>
                <div class="form-horizontal bg-vip-golden">
                    <div class="form-group">
                        <div class="form-inline col-lg-9 col-lg-offset-3 col-md-9 col-md-offset-3 col-sm-9 col-sm-offset-3 col-xs-12">
                            <strong>Số tiền hiện tại đang có trong tài khoản:<span class="text-error"> @Model.AmountVND</span></strong>
                            @Html.HiddenFor(r => r.Amount)
                            <input type="hidden" id="statusProperty" value="0" />
                            <input type="hidden" id="oldAdsTypeVip" value="0" />
                            <input type="hidden" id="oldPostingDates" value="0" />
                            <div class="alert alert-info none-margin-bottom">
                                <h4 class="text-black">- Nạp tiền bằng thẻ cào điện thoại <strong>@Html.ActionLink("Click vào đây", "CardPayment", "User", new { area = "RealEstate.UserControlPanel" }, new { Class = "payment-history text-error", target = "_blank" })</strong></h4>
                            </div>
                            @if (WorkContext.CurrentUser != null)
                            {
                                <div class="alert alert-success none-margin-bottom">
                                    <h4 class="text-black">
                                        - Mã khách hàng của bạn là: <strong class="text-error">"@WorkContext.CurrentUser.Id"</strong>:<br />
                                        - Nhắn tin với cú Pháp: <strong class="text-error">DGND @WorkContext.CurrentUser.Id </strong> (gửi <strong class="text-error">8798</strong>) - 15.000/tin nhắn
                                    </h4>
                                </div>
                            }
                            <div class="alert alert-warning none-margin-bottom">
                                <h4 class="text-black">
                                    - Chuyển khoản ngân hàng: TK: <strong class="text-error">54510049</strong> - Lê Đình Dũng - Ngân Hàng ACB chi nhánh Lê Ngô Cát, Q3, Tp. HCM.
                                    - Khuyến mãi 30% khi thanh toán qua tài khoản ngân hàng
                                </h4>
                            </div>
                            <div class="form-group col-md-4">
                                <label>Chọn loại tin VIP: <i class="icon_silk_help dg-visible-xs" title="Tin của bạn sẽ được đưa vào khu vực tin VIP."></i></label>
                                <select name="@Html.NameOf(m => m.AdsTypeVIP)" id="AdsTypeVIP" class="form-control">
                                    <option value="0" @(Model.AdsTypeVIP == 0 ? "selected=\" selected\"" : "")>Tin thường</option>
                                    <option value="3" @(Model.AdsTypeVIP == 3 ? "selected=\" selected\"" : "")>VIP 1</option>
                                    <option value="2" @(Model.AdsTypeVIP == 2 ? "selected=\" selected\"" : "")>VIP 2</option>
                                    <option value="1" @(Model.AdsTypeVIP == 1 ? "selected=\" selected\"" : "")>VIP 3</option>
                                </select>
                                <i class="icon_silk_help dg-hidden-xs" title="Tin của bạn sẽ được đưa vào khu vực tin VIP."></i>
                            </div>
                            <div class="form-group col-md-3 right-10">
                                <label>Từ ngày</label>  @Html.TextBoxFor(m => m.DateVipFrom, new { @class = "form-control date-vip date-vip-start", @placeholder = "Từ ngày" })
                            </div>
                            <div class="form-group col-md-3">
                                <label>đến ngày</label> @Html.TextBoxFor(m => m.DateVipTo, new { @class = "form-control date-vip date-vip-end", @placeholder = "Đến ngày" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-inline col-lg-9 col-lg-offset-3 col-md-9 col-md-offset-3 col-sm-9 col-sm-offset-3 col-xs-12">
                            <div class="form-group col-xs-8">
                                <strong>Số tiền phải trả: <span class="text-error paymentAmount"> @Model.AmountVND</span></strong>
                            </div>
                        </div>
                        <div class="form-inline col-lg-9 col-lg-offset-3 col-md-9 col-md-offset-3 col-sm-9 col-sm-offset-3 col-xs-12">
                            <div>- Tin VIP1: <strong class="text-error">@Model.UnitArray[3]đ/ngày</strong> - Tiêu đề, màu đỏ hiển thị trên cùng danh sách tìm kiếm.</div>
                            <div>- Tin VIP2: <strong class="text-error">@Model.UnitArray[2]đ/ngày</strong> - Tiêu đề màu cam, hiển thị sau tin VIP1</div>
                            <div>- Tin VIP3: <strong class="text-error">@Model.UnitArray[1]đ/ngày</strong> - Tiêu đề màu xanh lá, hiển thị sau tin VIP2</div>
                            <div>+ <strong class="text-error">@Model.UnitArray[0]đ/ngày cho những tin đăng thuộc các quận: Quận 1, Quận 3, Quận 5, Quận 10, Quận 11, Quận Phú Nhuận, Quận Tân Bình, Quận Bình Thạnh, Quận Tân Phú</strong></div>
                            <div>+ <strong class="text-error">Miễn phí các tỉnh, quận huyện còn lại</strong></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-inline col-lg-9 col-lg-offset-3 col-md-9 col-md-offset-3 col-sm-9 col-sm-offset-3 col-xs-12">
                            <div class="alert alert-success">
                                <h4 class="text-black">
                                    Nếu gặp khó khăn trong việc đăng tin và nạp tiền xin liên hệ:
                                    <span class="text-blue">0928.788.188 Ms. Hà <a href="skype:leha.lh?chat" title="Liên hệ skype"><img width="20" height="20" border="0" src="/Themes/dinhgianhadat.green/Styles/images/skype.png"></a></span> hoặc
                                    <span class="text-blue">0977.690.727 Mr. Tuấn <a href="skype:thanhtuan1k9?chat" title="Liên hệ skype"><img width="20" height="20" border="0" src="/Themes/dinhgianhadat.green/Styles/images/skype.png"></a></span>
                                </h4>
                            </div>
                        </div>
                    </div>
                </div>
            </article>

        </article>

    </div>
</div>
<!-- END form-editor -->

<button value="submit.Create" name="submit.Create" type="submit" class="primaryActionCreate btn btn-warning collapse">Đăng tin</button>
<div class="form-group"></div>
@using (Script.Foot())
{
    <script type="text/javascript">

        $(document).ready(function () {

            $('.hover-star').rating({
                focus: function (value, link) {
                    //var tip = $('#hover-text');
                    //tip[0].data = tip[0].data || tip.html();
                    //tip.html(link.title || 'value: ' + value);
                },
                blur: function (value, link) {
                    //var tip = $('#hover-text');
                    //$('#hover-text').html(tip[0].data || '');
                },
                callback: function (value, link) {
                    //var tip = $('#hover-text');
                    //if (!value) tip.html('');
                    //tip[0].data = tip.html();
                    $('#PriceEstimatedRatingPoint').val(value);
                    $('#slcRating').val(value);
                }
            }).rating('select', '@Model.PriceEstimatedRatingPoint');

            $('#slcRating').change(function () {
                $('.hover-star').rating('select', '' + $(this).val());
            });

            // Gửi Nhận xét kết quả định giá
            $('#submit_Rating').click(function () {
                var ratingPoint = $('#PriceEstimatedRatingPoint').val();
                var comment = $('#PriceEstimatedComment').val();
                if (ratingPoint.length > 0 && comment.length > 0) {
                    if (confirm("Cám ơn bạn. Chúng tôi sẽ xem xét kỹ nội dung đánh giá của bạn và sẽ phản hồi trong thời gian sớm nhất")) {
                        $.ajax({
                            type: "post",
                            dataType: "",
                            url: "/ajax/RealEstate.FrontEnd/Estimate/AjaxRating",
                            data: {
                                id: '@Model.Id',
                                ratingPoint: ratingPoint,
                                comment: comment,
                                __RequestVerificationToken: antiForgeryToken
                            },
                            success: function (response) { },
                            error: function (request, status, error) { }
                        });
                    }
                } else {
                    if (ratingPoint.length == 0) alert("Vui lòng Chọn nhận xét");
                    if (comment.length == 0) alert("Vui lòng Ghi nhận xét của bạn");
                }
                return false;
            });

            $(".moreinfo").click(function () {
                $(".alert-dangtin").html("Bạn hãy điền thêm các thông tin bên đưới để đăng tin.");
                $("#ad-selling").fadeIn();
                $(".content-item-map").fadeIn();
                $(".primaryActionCreate").fadeIn();
                return false;
            });

            if ($('.validation-summary-errors').length > 0) {
                // errors
            }
            else {
                $('html, body').animate({ scrollTop: ($('#block-estimate').offset().top) }, 500);
            }
        });
    </script>
}
<div class="form-editor">
    <div id="ViewReferencedProperties" class="ajax-paging"></div>
    @using (Script.Foot())
    {
        <script type="text/javascript">
            $(function () {
                $('#ViewReferencedProperties').load('@Url.Action("ViewReferencedProperties", "PropertySearch", new {area = "RealEstate.FrontEnd", id = Model.Id})', function () { fixPagerTop() });
            });
        </script>
    }
</div>

@Html.Partial("GuideModal")